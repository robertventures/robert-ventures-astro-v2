# Netlify configuration for Robert Ventures

# ========================================
# EDGE FUNCTIONS
# ========================================
# Geo-blocking is handled by the edge function in netlify/edge-functions/geo-block.js
# It blocks webinar registrations from countries outside the US

[[edge_functions]]
  path = "/api/webinar-registration"
  function = "geo-block"

# ========================================
# REDIRECTS / PROXIES
# ========================================
# Reverse proxy for RedTrack uniclick.js â€” serves the script from our own domain
# so Safari (ITP) and Firefox (ETP) don't block it as third-party tracking
[[redirects]]
  from = "/rtk/*"
  to = "https://rt.robertventures.com/:splat"
  status = 200
  force = true
