---
import Image from "astro/components/Image.astro";
import arrow from "../images/design-elements/Arrow-right.svg";

import rvlogo from "../images/logos/rv-logo-vertical.svg";
---

<style>
    footer {
        margin-bottom: 1.5rem;
    }

    .footer-container {
        max-width: 1280px;
        margin: 0 auto;
        border-radius: 1rem;
        background: #fff;
        padding: 3rem 1.5rem;
    }

    .footer-content {
        max-width: 912px;
        margin: 0 auto;
    }

    footer > * {
        text-align: center;
    }

    .form {
        margin-bottom: 5rem;
    }

    form {
        margin-bottom: 1rem;
    }

    .form-block {
        border-radius: 1.5625rem;
        border: 1px solid #afb5bc;
        background: #fff;
        display: flex;
        max-width: 366px;
        height: 3.125rem;
        padding: 1rem 0.5rem 1rem 1.5rem;
        justify-content: space-between;
        align-items: center;
        flex-shrink: 0;
        margin: 0 auto;
    }

    input {
        border: none;
    }

    button {
        background-color: #5028ff;
        border: 1px solid #5028ff;
        color: #fff;
        border-radius: 2rem;
        width: 2.13156rem;
        height: 2.13156rem;
    }

    .signup-error {
        display: none;
    }

    .account {
        color: #737373;
        font-family: "Inter", sans-serif;
        font-size: 1rem;
        font-weight: 500;
        line-height: 150%;
    }

    .login {
        color: #396afb;
    }

    h2 {
        color: #281480;
        font-size: 2.25rem;

        font-weight: 700;
        line-height: 110%; /* 2.475rem */

        margin-bottom: 0.75rem;
    }

    p.footer-subtitle {
        color: #505050;
        font-size: 1.25rem;

        font-weight: 500;
        line-height: 160%; /* 2rem */

        margin-bottom: 2rem;
    }

    .footer-link-lists {
        display: flex;
        flex-direction: column;
        gap: 3rem;

        margin-bottom: 4rem;
    }

    .list {
        text-align: left;
    }

    .list-heading {
        color: #737373;
        font-size: 1rem;
        font-weight: 400;
        line-height: 100%; /* 1rem */

        margin-bottom: 1rem;
    }

    .link {
        display: flex;
        justify-content: space-between;
    }

    a.link {
        color: #1d1d1f;
        font-size: 1.25rem;
        font-weight: 500;
        line-height: 100%; /* 1.25rem */

        text-decoration: none;
    }

    .risk {
        text-align: left;
        margin-bottom: 5rem;
    }

    .risk p {
        color: #737373;
        font-size: 0.875rem;
        font-weight: 400;
        line-height: 150%; /* 1.3125rem */

        margin-bottom: 1rem;
    }

    .risk a {
        color: #737373;
        font-size: 1rem;
        font-weight: 400;
        line-height: 100%; /* 1rem */
    }

    .footer-end {
        text-align: center;
    }

    .footer-end img {
        margin: 0 auto;
        margin-bottom: 1.5rem;
    }

    .footer-end p {
        color: #737373;
        text-align: center;
        font-size: 0.875rem;
        line-height: 150%; /* 1.3125rem */

        margin-bottom: 1rem;
    }

    .footer-end a {
        color: #737373;
        text-align: center;
        font-size: 1rem;
        font-weight: 400;
        line-height: 150%; /* 1.5rem */
    }

    .end {
        margin-top: 1rem;
        color: #737373;
        font-size: 0.8125rem;
        font-weight: 400;
        line-height: 150%; /* 1.21875rem */
    }

    @media only screen and (min-width: 768px) {
        footer {
            padding: 0 2rem;
        }
    }
    @media only screen and (min-width: 990px) {
        .footer-container{
            padding: 4rem 1.5rem;
        }
    }
</style>

<footer>
    <div class="footer-container">
        <div class="footer-content">
            <div class="footer-intro">
                <h2>Ready to grow your wealth?</h2>
                <p class="footer-subtitle">
                    Secure, grow, and compound your wealth with confidence
                </p>
            </div>

            <div class="form">
                <form id="footer-cta-form">
                    <div class="form-block">
                        <input
                            type="email"
                            placeholder="Enter your email"
                            required
                            class="email-input"
                        />
                        <button type="submit">
                            <span class="button-text">
                                <Image
                                    src={arrow}
                                    alt="herobox"
                                    width={24}
                                    height={24}
                                />
                            </span>
                            <span class="loader" style="display: none;"></span>
                        </button>
                    </div>
                    <p class="signup-error"></p>
                </form>
                <p class="account">
                    Have an account? <a class="login" href="/">Log in</a>
                </p>
            </div>

            <div class="footer-link-lists">
                <div class="list">
                    <p class="list-heading">Robert Ventures</p>
                    <div class="links-container">
                        <a href="/strategy" class="link">
                            <p>Strategy</p>
                            <p>+</p>
                        </a>
                        <a href="/about-us" class="link">
                            <p>About Us</p>
                            <p>+</p>
                        </a>
                        <a href="/articles" class="link">
                            <p>Articles</p>
                            <p>+</p>
                        </a>
                        <a href="/calendar" class="link">
                            <p>Contact</p>
                            <p>+</p>
                        </a>
                        <a href="https://invest.robertventures.com/login?f=1" class="link">
                            <p>Login</p>
                            <p>+</p>
                        </a>
                    </div>
                </div>
                <div class="list">
                    <p class="list-heading">Legal</p>
                    <div class="links-container">
                        <a href="/privacy-policy" class="link">
                            <p>Privacy Policy</p>
                            <p>+</p>
                        </a>
                        <a href="/terms-of-use" class="link">
                            <p>Terms of use</p>
                            <p>+</p>
                        </a>
                        <a href="/cookie-policy" class="link">
                            <p>Cookie Policy</p>
                            <p>+</p>
                        </a>
                        <a href="/disclaimer" class="link">
                            <p>Disclaimer</p>
                            <p>+</p>
                        </a>
                    </div>
                </div>
                <div class="list">
                    <p class="list-heading">Robert Ventures</p>
                    <div class="links-container">
                        <a href="/strategy" class="link">
                            <p>Strategy</p>
                            <p>+</p>
                        </a>
                        <a href="/about-us" class="link">
                            <p>About Us</p>
                            <p>+</p>
                        </a>
                        <a href="/articles" class="link">
                            <p>Articles</p>
                            <p>+</p>
                        </a>
                        <a href="/contact" class="link">
                            <p>Contact</p>
                            <p>+</p>
                        </a>
                        <a href="https://invest.robertventures.com/login?f=1" class="link">
                            <p>Login</p>
                            <p>+</p>
                        </a>
                    </div>
                </div>
            </div>

            <div class="risk">
                <p>
                    Important Risk Information: Investing involves risk. There
                    is a potential that Robert Ventures Holdings LLC (the
                    “Company”) may not be able to make the scheduled payments of
                    interest or principal on the bonds related to its existing
                    securities offering. While the Company believes the
                    assumptions and forward-looking statements contained
                    throughout this website are reasonable, the Company cannot
                    guarantee future results, performance, or achievements.
                    Anticipated returns, expense estimates, and investor
                    payments discussed throughout this website are based on the
                    Company's assumptions and beliefs and are not reflective of
                    past operations of the Company. This website's calculator
                    provides estimates, and actual returns and payments may
                    differ based on final agreements.
                </p>
                <a href="https://www.sec.gov/Archives/edgar/data/1991519/000109690624001946/rvh_253g2.htm">Our Preliminary Offering Here</a>
            </div>

            <div class="footer-end">
                <Image
                    src={rvlogo}
                    alt="Robert Ventures Logo"
                    width={116}
                    height={116}
                />

                <p>
                    Robert Ventures Holdings LLC. 2810 N. Church St., #28283
                    Wilmington, Delaware 19802
                </p>

                <a href="tel:+13024046341">+1 302 404 6341</a>
            </div>
        </div>
    </div>

    <div class="end">© 2025 Robert Ventures Holdings LLC.</div>
</footer>

<script is:inline>
    document
        .getElementById("footer-cta-form")
        .addEventListener("submit", async function (event) {
            event.preventDefault();

            const emailInput = document.querySelector(".email-input");
            const email = emailInput.value;
            const buttonText = document.querySelector(".button-text");
            const loader = document.querySelector(".loader");
            const signupError = document.querySelector(".signup-error");

            buttonText.style.display = "none";
            loader.style.display = "inline-block";
            signupError.style.display = "none";

            try {
                const response = await fetch("/api/get-started", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({ email }),
                });

                const result = await response.json();

                if (response.ok) {
                    console.log("Signup successful!");
                    window.location.href = "/signup";
                } else {
                    const errorMessage = result.error || "Signup failed";
                    signupError.textContent = errorMessage;
                    signupError.style.display = "block";
                }
            } catch (error) {
                console.error("Error:", error);
                signupError.textContent = "An unexpected error occurred.";
                signupError.style.display = "block";
            } finally {
                buttonText.style.display = "inline-block";
                loader.style.display = "none";
            }
        });
</script>
