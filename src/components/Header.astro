---
import Rvlogo from "../images/logo-horizontal-darkbg.svg";

import Opener from "../images/svg/link-icon.svg";

---

<style>
	body.menu-open {
		overflow: hidden;
	}

	header {
		margin: 0;
		padding: 0 16px;
		position: relative;
		z-index: 1001; /* Ensure the header is above the mobile menu */
		background-color: #101B1F;
		height: 64px;
	}

	.header-container {
		margin: 0 auto;
		height: 100%;
		display: flex;
		align-items: center;
		width: 100%;
	}
	h2 {
		margin: 0;
		padding: 0;
		font-size: 1em;
		line-height: 0;
	}

	h2 a {
		display: block;
		line-height: 0;
		margin: 0;
		padding: 0;
		text-decoration: none;
		width: fit-content;
	}

	h2 a svg {
		display: block;
		margin: 0;
		padding: 0;
	}

	nav {
		display: flex;
		align-items: center;
		justify-content: space-between;
		width: 100%;
		height: 100%;
	}

	nav a {
		padding: 1em 0.5em;
		color: #E1EEEA;
		border-bottom: 4px solid transparent;
		text-decoration: none;
	}

	nav h2 a {
		padding: 0;
		border-bottom: none;
	}
	nav a.active {
		text-decoration: none;
		border-bottom-color: var(--accent);
	}
	.social-links,
	.social-links a {
		display: flex;
	}
	@media (max-width: 720px) {
		.social-links {
			display: none;
		}
	}

	h2 svg {
		max-height: 36px;
		width: auto;
	}

	.hamburger {
		display: block;
		cursor: pointer;
	}

	.hamburger svg {
		transition: transform 0.3s ease-in-out;
		color: #E1EEEA;
	}

	.mobile-menu {
		position: fixed;
		left: 0;
		bottom: 0;
		width: 100%;
		height: 90dvh;
		background-color: white;
		box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
		z-index: 1000;
		padding: 3rem 1.5rem;
		overflow-y: auto;
		border-radius: 1rem 1rem 0rem 0rem;
		background: #fff;
		opacity: 0;
		visibility: hidden;
		transform: translateY(100%);
		transition: transform 0.35s cubic-bezier(0.4,0,0.2,1), opacity 0.25s, visibility 0.25s;
	}

	.hidden {
		display: none;
	}

	.mobile-menu.show {
		opacity: 1;
		visibility: visible;
		transform: translateY(0);
	}

	.mobile-menu:not(.show) {
		opacity: 0;
		visibility: hidden;
		transform: translateY(100%);
	}

	.menu-link-lists {
		display: flex;
		flex-direction: column;
		gap: 3rem;
		margin-bottom: 5rem;
	}

	.list-heading {
		margin-bottom: 1rem;
		line-height: 1;
		color: #737373;
		font-family: var(--font-body);
		font-size: 1rem;
		font-weight: 400;
	}

	.links-container {
		display: flex;
		flex-direction: column;
		gap: 1.5rem;
	}

	.mobile-menu a {
		display: block;
		color: var(--black);
		text-decoration: none;
		display: flex;
		justify-content: space-between;
		align-items: center;
		color: #1d1d1f;
		font-family: var(--font-body);
		font-size: 1.25rem;
		font-style: normal;
		font-weight: 500;
		line-height: 1; /* 1.25rem */
	}

	.mobile-menu a p {
		line-height: 1;
	}


	.footer-end {
		text-align: center;
	}

	.footer-end svg {
		margin: 0 auto;
		margin-bottom: 1.5rem;
	}

	.footer-end p {
		color: #737373;
		text-align: center;
		font-size: 0.875rem;
		line-height: 150%; /* 1.3125rem */
		margin-bottom: 1rem;
	}

	.footer-end a {
		color: #737373;
		text-align: center;
		font-size: 1rem;
		font-weight: 400;
		line-height: 150%; /* 1.5rem */
		display: block;
		text-decoration: underline;
	}

	.footer-end img {
		max-height: none;
	}

	.desktop-links {
		display: none;
	}

	.login-link {
		display: none;
	}

	@media only screen and (min-width: 600px) and (max-width: 1135px) {
		header {
			padding: 0 32px;
		}
	}

	@media only screen and (min-width: 768px) {
		.mobile-menu {
			padding: 4rem 3rem;
		}
		.menu-link-lists {
			flex-direction: row;
			justify-content: space-between;
		}

		.menu-link-lists > div {
			flex: 1;
		}

		.link img {
			display: none;
		}
	}

	@media (min-width: 1024px) {
		.hamburger {
			display: none;
		}

		.desktop-links {
			display: flex;
			gap: 16px;
			align-items: center;
		}

		.login-link {
			display: flex;
			align-items: center;
		}

		nav {
			display: flex;
			justify-content: flex-end;
			align-items: center;
			gap: 32px;
		}

		nav h2 {
			margin-right: auto;
		}

		.desktop-links {
			justify-content: flex-end;
		}

		.login-link {
			margin-left: 0;
		}

		.desktop-links a {
			color: #E1EEEA;
			text-decoration: none;
			font-size: 1rem;
			font-weight: 500;
			font-family: var(--font-body);
			line-height: 100%; /* 1rem */
			white-space: nowrap;
			padding: 16px;
		}

		.login-link a {
			color: #E1EEEA;
			text-decoration: none;
			font-size: 1rem;
			font-weight: 500;
			font-family: var(--font-body);
			line-height: 100%; /* 1rem */
			white-space: nowrap;
		}

		.desktop-links a:hover,
		.login-link a:hover {
			text-decoration: underline;
		}

		.login-link a {
			display: inline-flex;
			padding: 0.6875rem 2rem;
			align-items: center;
			gap: 0.625rem;

			border-radius: 1.5625rem;
			border: 1px solid #30414D;
			background: #152429;
			color: #E1EEEA;
		}
	}

	@media (min-width: 1136px) {
		header {
			padding: 0 112px;
		}
	}

	@media (min-width: 1920px) {
		header {
			padding: 0 312px;
		}
	}
</style>

	<header>
		<div class="header-container">
			<nav>
				<h2>
					<a href="/"><Rvlogo /></a>
				</h2>
				<div class="desktop-links">
					<a href="/strategy" data-track-nav="strategy" data-track-location="header">Strategy</a>
					<a href="/about-us" data-track-nav="about_us" data-track-location="header">About Us</a>
					<a href="/articles/" data-track-nav="articles" data-track-location="header">Articles</a>
					<a href="/calendar" data-track-nav="contact" data-track-location="header">Contact</a>
					<a href="/reviews" data-track-nav="reviews" data-track-location="header">Reviews</a>
				</div>
				<div class="login-link">
					<a href="https://invest.robertventures.com/login" data-track-cta="sign_in" data-track-location="header">Sign in</a>
				</div>
				<div class="hamburger" id="hamburger">
					<svg
						width="24"
						height="24"
						viewBox="0 0 24 24"
						fill="none"
						xmlns="http://www.w3.org/2000/svg"
					>
						<rect y="4" width="24" height="2" fill="currentColor"
						></rect>
						<rect y="11" width="24" height="2" fill="currentColor"
						></rect>
						<rect y="18" width="24" height="2" fill="currentColor"
						></rect>
					</svg>
				</div>
			</nav>
			<div class="mobile-menu" id="mobileMenu">
				<div class="footer-content">
					<div class="menu-link-lists">
						<div class="list">
							<!-- <p class="list-heading">Robert Ventures</p> -->
							<div class="links-container">
								<a href="/strategy" class="link" data-track-nav="strategy" data-track-location="mobile_menu">
									<p>Strategy</p>
									<Opener />
								</a>
								<a href="/about-us" class="link" data-track-nav="about_us" data-track-location="mobile_menu">
									<p>About Us</p>
									<Opener />
								</a>
								<a href="/articles/" class="link" data-track-nav="articles" data-track-location="mobile_menu">
									<p>Articles</p>
									<Opener />
								</a>
								<a href="/reviews" class="link" data-track-nav="reviews" data-track-location="mobile_menu">
									<p>Reviews</p>
									<Opener />
								</a>
								<a href="/calendar" class="link" data-track-nav="contact" data-track-location="mobile_menu">
									<p>Contact</p>
									<Opener />
								</a>
								<a href="https://invest.robertventures.com" class="link" data-track-cta="login" data-track-location="mobile_menu">
									<p>Login</p>
									<Opener />
								</a>
							</div>
						</div>
				</div>
			</div>
		</div>
	</header>


<script>
	document.getElementById("hamburger").addEventListener("click", function () {
		const mobileMenu = document.getElementById("mobileMenu");
		const isOpen = mobileMenu.classList.contains("show");
		if (isOpen) {
			mobileMenu.classList.remove("show");
			document.body.classList.remove("menu-open");
		} else {
			mobileMenu.classList.add("show");
			document.body.classList.add("menu-open");
		}
	});

	let startY;

	document
		.getElementById("mobileMenu")
		.addEventListener("touchstart", function (e) {
			startY = e.touches[0].clientY;
		});

	document
		.getElementById("mobileMenu")
		.addEventListener("touchmove", function (e) {
			const currentY = e.touches[0].clientY;
			const diffY = currentY - startY;

			if (diffY > 300) {
				const mobileMenu = document.getElementById("mobileMenu");
				mobileMenu.classList.remove("show");
				document.body.classList.remove("menu-open");
			}
		});

</script>
